<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>A Small Question</title>

<!-- Aesthetic fonts -->
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Quicksand:wght@300;500&display=swap" rel="stylesheet">

<style>

:root{
    --sky:#dff4ff;
    --blue:#9edcff;
    --dark:#5c9dcf;
    --text:#2c3e50;
}

body{
    margin:0;
    background:linear-gradient(#eaf9ff,#dff4ff);
    font-family:'Quicksand',sans-serif;
    text-align:center;
    height:100vh;
    overflow:hidden;
    color:var(--text);
    position: relative;
}

/* floating pixels background */
body::before{
    content:"";
    position:fixed;
    inset:0;
    background-image:
        radial-gradient(#ffffffaa 2px,transparent 2px),
        radial-gradient(#bde7ff 1px,transparent 1px);
    background-size:60px 60px,30px 30px;
    animation:float 60s linear infinite;
    opacity:.6;
    pointer-events: none;
    z-index: -1;
}

@keyframes float{
    from{background-position:0 0,0 0}
    to{background-position:1000px 600px,-800px 400px}
}

 .scattered{
     position:fixed;
     inset:0;
     pointer-events:auto;
     z-index:0;
 }

 .scatter{
     position:absolute;
     width:140px;
     filter:drop-shadow(8px 12px 0 #3b6d94) brightness(1.05);
     image-rendering:auto;
     transition:transform .4s ease;
     cursor:pointer;
 }

 .scatter:hover{
     transform:scale(1.08) rotate(0deg);
 }

 .s1{ top:8%; left:6%; transform:rotate(-8deg); }
 .s2{ top:18%; right:10%; transform:rotate(7deg); }
 .s3{ bottom:12%; left:14%; transform:rotate(5deg); }
 .s4{ bottom:8%; right:12%; transform:rotate(-6deg); }

 .container{
    min-height:100vh;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    gap:18px;
    position: relative;
    z-index: 2;
}

.actions{
    display:flex;
    gap:24px;
    justify-content:center;
    align-items:center;
}

/* pixel title */
h1{
    font-family:'Press Start 2P',cursive;
    font-size:26px;
    line-height:2em;
    color:#3b6d94;
}

/* buttons */
button{
    font-family:'Press Start 2P';
    padding:20px 40px;
    margin:22px;
    border:5px solid #3b6d94;
    background:#bde7ff;
    color:#24506f;
    cursor:pointer;
    box-shadow:8px 8px 0 #3b6d94;
    transition:.15s;
    font-size:18px;
}

button:hover{
    transform:translate(2px,2px);
    box-shadow:4px 4px 0 #3b6d94;
}

#noBtn{ position:relative; }

/* falling hearts + photos */
.fall{
    position:fixed;
    top:-40px;
    opacity:.35;
    animation:drift var(--dur,20s) linear infinite;
    pointer-events:none;
    z-index:1;
}

.heart{
    font-size:16px;
    filter:drop-shadow(1px 1px 0 #3b6d94aa);
}

 .photo{
     width:88px;
     height:88px;
     background:#eaf9ff;
     padding:8px;
     position:relative;
     display:flex;
     align-items:center;
     justify-content:center;
     image-rendering:pixelated;

     /* inner matte */
     box-shadow:
         inset 0 0 0 4px #bde7ff,
         inset 0 0 0 8px #9edcff;

     /* outer chunky border */
     border:6px solid #3b6d94;

     /* cartridge depth */
     outline:6px solid #dff4ff;

     animation:idleFloat 3s ease-in-out infinite;
 }

 .photo img{
     max-width:100%;
     max-height:100%;
     object-fit:contain;
     filter:saturate(0.9) contrast(1.05) brightness(1.03) hue-rotate(-6deg);
 }

 .photo::before,
 .photo::after{
     content:"";
     position:absolute;
     width:10px;
     height:10px;
     background:#3b6d94;
 }

 .photo::before{
     top:-6px;
     left:-6px;
     box-shadow:
         0 calc(100% + 12px) 0 #3b6d94,
         calc(100% + 12px) 0 #3b6d94,
         calc(100% + 12px) calc(100% + 12px) 0 #3b6d94;
 }

 .photo::after{
     top:-2px;
     left:-2px;
     background:#ffffffaa;
     width:6px;
     height:6px;
     box-shadow:
         calc(100% + 4px) 0 #ffffff55,
         0 calc(100% + 4px) #ffffff55;
     animation:pixelShine 4s infinite;
 }

@keyframes drift{
    from{transform:translateY(-20px)}
    to{transform:translateY(110vh)}
}

/* drawing area */
#drawArea{
    display:none;
    margin-top:30px;
}

canvas{
    background:white;
    border:6px solid #3b6d94;
    box-shadow:10px 10px 0 #3b6d94;
}

#result{
    font-family:'Press Start 2P';
    margin-top:30px;
    font-size:16px;
    color:#ff3b6f;
    animation:shake 0.4s;
}

@keyframes idleFloat{
    0%{ transform:translateY(0px)}
    50%{ transform:translateY(-3px)}
    100%{ transform:translateY(0px)}
}

@keyframes pixelShine{
    0%,85%,100%{opacity:0}
    90%{opacity:1}
}

@keyframes shake{
    0%{transform:translateX(0)}
    25%{transform:translateX(-6px)}
    50%{transform:translateX(6px)}
    75%{transform:translateX(-6px)}
    100%{transform:translateX(0)}
}
/* mobile adjustments */
@media (max-width: 600px){
    .scatter{
        width:90px;
        opacity:0.9;
    }

    .s1{ top:4%; left:2%; }
    .s2{ top:10%; right:2%; }
    .s3{ bottom:8%; left:4%; }
    .s4{ bottom:6%; right:4%; }

    h1{ font-size:18px; }

    button{
        padding:14px 22px;
        font-size:14px;
        margin:14px;
    }
}
</style>
</head>

<body>

<div class="container">
    <div class="scattered">
        <img src="photos/her1.png" class="scatter s1">
        <img src="photos/her2.png" class="scatter s2">
        <img src="photos/her3.png" class="scatter s3">
        <img src="photos/her4.png" class="scatter s4">
    </div>
    <h1 id="title">
        thalia nguyen-khoa,<br>
        will you be my valentine?
    </h1>

    <div class="actions">
        <button id="yesBtn">YES</button>
        <button id="noBtn">NO</button>
    </div>

    <div id="drawArea">
        <h1>human verification required</h1>
        <p>please draw a heart to continue</p>
        <canvas id="canvas" width="380" height="380"></canvas><br>
        <button onclick="checkHeart()">VERIFY</button>
        <div id="result"></div>
    </div>
</div>

<script>

/* get elements properly */
const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");
const drawArea = document.getElementById("drawArea");
const title = document.getElementById("title");

/* runaway NO button */
noBtn.onmouseover = () => {
    noBtn.style.position = "absolute";
    noBtn.style.left = Math.random()*(window.innerWidth-120)+"px";
    noBtn.style.top = Math.random()*(window.innerHeight-80)+"px";
};

/* YES pressed (FIXED) */
yesBtn.onclick = () => {
    title.innerText = "security checkpoint";
    yesBtn.style.display="none";
    noBtn.style.display="none";
    drawArea.style.display="block";
};


/* drawing logic (now works on phone too) */
const canvas=document.getElementById("canvas");
const ctx=canvas.getContext("2d");
let drawing=false,points=[];

function getPos(e){
    const rect=canvas.getBoundingClientRect();
    return {
        x:(e.touches?e.touches[0].clientX:e.clientX)-rect.left,
        y:(e.touches?e.touches[0].clientY:e.clientY)-rect.top
    };
}

function start(e){
    drawing=true;
    points=[];
    const p=getPos(e);
    ctx.beginPath();
    ctx.moveTo(p.x,p.y);
}

function move(e){
    if(!drawing) return;
    const p=getPos(e);
    ctx.lineTo(p.x,p.y);
    ctx.strokeStyle="#ff4d88";
    ctx.lineWidth=4;
    ctx.stroke();
    points.push([p.x,p.y]);
}

function end(){ drawing=false; }

canvas.addEventListener("mousedown",start);
canvas.addEventListener("mousemove",move);
canvas.addEventListener("mouseup",end);

canvas.addEventListener("touchstart",start);
canvas.addEventListener("touchmove",e=>{move(e);e.preventDefault();});
canvas.addEventListener("touchend",end);

/* heart detection */
function checkHeart(){
    if(points.length<10){
        emptyFail();
        return;
    }

    let minY=999,maxY=0,minX=999,maxX=0;
    points.forEach(p=>{
        minX=Math.min(minX,p[0]);
        maxX=Math.max(maxX,p[0]);
        minY=Math.min(minY,p[1]);
        maxY=Math.max(maxY,p[1]);
    });

    let ratio=(maxY-minY)/(maxX-minX);
    let lowest=points.reduce((a,b)=>a[1]>b[1]?a:b);
    let above=points.filter(p=>p[1]<lowest[1]-(maxY-minY)*0.3).length;

    if(ratio>0.8&&ratio<1.6&&above>40) success();
    else badFail();
}

function success(){
    document.body.innerHTML=`
        <div style="min-height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;font-family:'Press Start 2P';color:#3b6d94">
                <div class="scattered">
        <img src="photos/her1.png" class="scatter s1">
        <img src="photos/her2.png" class="scatter s2">
        <img src="photos/her3.png" class="scatter s3">
        <img src="photos/her4.png" class="scatter s4">
    </div>
            <h1>verification complete</h1>
            <h1>you are my valentine ðŸ’™</h1>
            <p style="font-family:Quicksand;margin-top:50px;font-size:26px">
            i really really like you
            </p>
        </div>
    `;
}

function emptyFail(){
    const r=document.getElementById("result");
    r.innerText="WHERE'S MY HEART?????";
    r.style.animation="none";
    void r.offsetWidth;
    r.style.animation="shake 0.4s";
    ctx.clearRect(0,0,canvas.width,canvas.height);
    points=[];
}

function badFail(){
    const r=document.getElementById("result");
    r.innerText="that's a terrible heart, what happened to your art skills?";
    r.style.animation="none";
    void r.offsetWidth;
    r.style.animation="shake 0.4s";
    ctx.clearRect(0,0,canvas.width,canvas.height);
    points=[];
}

/* subtle falling hearts + roses */
const emojis = ["ðŸ’™","ðŸŒ¹","ðŸ’™","ðŸŒ¹","ðŸ’™"];

function spawnParticle(){
    const el=document.createElement("div");
    el.classList.add("fall","heart");
    el.innerText=emojis[Math.floor(Math.random()*emojis.length)];
    el.style.left=Math.random()*100+"vw";
    el.style.setProperty('--dur',(18+Math.random()*12)+"s");
    document.body.appendChild(el);
    setTimeout(()=>el.remove(),30000);
}

/* immediate hearts on load */
for(let i=0;i<6;i++){
    setTimeout(spawnParticle,i*180);
}

/* continuous falling */
setInterval(spawnParticle,2200);

</script>

</body>
</html>
Â¬Ã¸

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>A Small Question</title>

<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Quicksand:wght@300;500&display=swap" rel="stylesheet" />

<style>
:root{
    --sky:#dff4ff;
    --blue:#9edcff;
    --text:#2c3e50;
}

body{
    margin:0;
    background:linear-gradient(#eaf9ff,#dff4ff);
    font-family:'Quicksand',sans-serif;
    text-align:center;
    height:100vh;
    overflow:hidden;
    color:var(--text);
    position:relative;
}

/* floating pixels background */
body::before{
    content:"";
    position:fixed;
    inset:0;
    background-image:
        radial-gradient(#ffffffaa 2px,transparent 2px),
        radial-gradient(#bde7ff 1px,transparent 1px);
    background-size:60px 60px,30px 30px;
    animation:float 60s linear infinite;
    opacity:.6;
    pointer-events:none;
    z-index:-2;
}

@keyframes float{
    from{background-position:0 0,0 0}
    to{background-position:1000px 600px,-800px 400px}
}

/* scattered photos */
.scattered{
    position:fixed;
    inset:0;
    pointer-events:auto;
    z-index:-1;
}

.scatter{
    position:absolute;
    width:140px;
    filter:drop-shadow(8px 12px 0 #3b6d94) brightness(1.05);
    image-rendering:auto;
    transition:transform .4s ease;
    cursor:pointer;
}

.scatter:hover{
    transform:scale(1.08) rotate(0deg);
}

.s1{ top:8%; left:6%; transform:rotate(-8deg); }
.s2{ top:18%; right:10%; transform:rotate(7deg); }
.s3{ bottom:12%; left:14%; transform:rotate(5deg); }
.s4{ bottom:8%; right:12%; transform:rotate(-6deg); }

/* main layout */
.container{
    min-height:100vh;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    gap:18px;
    position:relative;
    z-index:2;
}

.actions{
    display:flex;
    gap:24px;
    justify-content:center;
    align-items:center;
}

h1{
    font-family:'Press Start 2P',cursive;
    font-size:26px;
    line-height:2em;
    color:#3b6d94;
    margin:0;
}

button{
    font-family:'Press Start 2P';
    padding:20px 40px;
    margin:22px;
    border:5px solid #3b6d94;
    background:#bde7ff;
    color:#24506f;
    cursor:pointer;
    box-shadow:8px 8px 0 #3b6d94;
    transition:.15s;
    font-size:18px;
}

button:hover{
    transform:translate(2px,2px);
    box-shadow:4px 4px 0 #3b6d94;
}

#noBtn{ position:relative; }

/* falling hearts + roses */
.fall{
    position:fixed;
    top:-40px;
    opacity:.35;
    animation:drift var(--dur,20s) linear infinite;
    pointer-events:none;
    z-index:1;
}

.heart{
    font-size:16px;
    filter:drop-shadow(1px 1px 0 #3b6d94aa);
}

@keyframes drift{
    from{transform:translateY(-20px)}
    to{transform:translateY(110vh)}
}

/* drawing area */
#drawArea{
    display:none;
    margin-top:30px;
}

canvas{
    background:white;
    border:6px solid #3b6d94;
    box-shadow:10px 10px 0 #3b6d94;
    touch-action:none;
}

#result{
    font-family:'Press Start 2P';
    margin-top:30px;
    font-size:16px;
    color:#ff3b6f;
    animation:shake 0.4s;
}

@keyframes shake{
    0%{transform:translateX(0)}
    25%{transform:translateX(-6px)}
    50%{transform:translateX(6px)}
    75%{transform:translateX(-6px)}
    100%{transform:translateX(0)}
}

/* success screen (hidden until verified) */
#successScreen{
    display:none;
}

#successScreen .message{
    min-height:100vh;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    position:relative;
    z-index:2;
    color:#3b6d94;
    font-family:'Press Start 2P';
}

#successScreen p{
    font-family:Quicksand;
    margin-top:50px;
    font-size:26px;
    color:var(--text);
}

/* mobile adjustments (INSIDE style) */
@media (max-width: 600px){
    .scatter{
        width:90px;
        opacity:0.85;
    }

    .s1{ top:4%; left:2%; }
    .s2{ top:10%; right:2%; }
    .s3{ bottom:8%; left:4%; }
    .s4{ bottom:6%; right:4%; }

    h1{ font-size:18px; }

    button{
        padding:14px 22px;
        font-size:14px;
        margin:14px;
    }

    #successScreen p{
        font-size:20px;
        margin-top:28px;
        padding:0 16px;
    }
}
</style>
</head>

<body>

<!-- photos always present, even on success screen -->
<div class="scattered" aria-hidden="true">
    <img src="photos/her1.png" class="scatter s1" alt="" />
    <img src="photos/her2.png" class="scatter s2" alt="" />
    <img src="photos/her3.png" class="scatter s3" alt="" />
    <img src="photos/her4.png" class="scatter s4" alt="" />
</div>

<div class="container" id="mainScreen">
    <h1 id="title">thalia nguyen-khoa,<br><br>will you be my valentine?</h1>

    <div class="actions" id="actions">
        <button id="yesBtn">YES</button>
        <button id="noBtn">NO</button>
    </div>

    <div id="drawArea">
        <h1>human verification required</h1>
        <p>please draw a heart to continue</p>
        <canvas id="canvas" width="380" height="380"></canvas><br>
        <button id="verifyBtn">VERIFY</button>
        <div id="result"></div>
    </div>
</div>

<div id="successScreen">
    <div class="message">
        <h1>verification complete</h1>
        <h1>you are my valentine ðŸ’™</h1>
        <p>i really really like you</p>
    </div>
</div>

<script>
/* elements */
const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");
const drawArea = document.getElementById("drawArea");
const title = document.getElementById("title");
const actions = document.getElementById("actions");
const mainScreen = document.getElementById("mainScreen");
const successScreen = document.getElementById("successScreen");
const verifyBtn = document.getElementById("verifyBtn");

/* runaway NO button */
noBtn.onmouseover = () => {
    noBtn.style.position = "absolute";
    noBtn.style.left = Math.random()*(window.innerWidth-120)+"px";
    noBtn.style.top = Math.random()*(window.innerHeight-80)+"px";
};

/* YES pressed */
yesBtn.onclick = () => {
    title.innerText = "security checkpoint";
    actions.style.display = "none";
    drawArea.style.display = "block";
};

/* drawing logic */
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
let drawing = false;
let points = [];

function getPos(e){
    const rect = canvas.getBoundingClientRect();
    const t = e.touches ? e.touches[0] : null;
    const clientX = t ? t.clientX : e.clientX;
    const clientY = t ? t.clientY : e.clientY;
    return { x: clientX - rect.left, y: clientY - rect.top };
}

function start(e){
    drawing = true;
    points = [];
    const p = getPos(e);
    ctx.beginPath();
    ctx.moveTo(p.x, p.y);
}

function move(e){
    if(!drawing) return;
    const p = getPos(e);
    ctx.lineTo(p.x, p.y);
    ctx.strokeStyle = "#ff4d88";
    ctx.lineWidth = 4;
    ctx.stroke();
    points.push([p.x, p.y]);
}

function end(){
    drawing = false;
}

canvas.addEventListener("mousedown", start);
canvas.addEventListener("mousemove", move);
canvas.addEventListener("mouseup", end);

canvas.addEventListener("touchstart", start, { passive: true });
canvas.addEventListener("touchmove", (e) => { move(e); e.preventDefault(); }, { passive: false });
canvas.addEventListener("touchend", end);

function emptyFail(){
    const r = document.getElementById("result");
    r.innerText = "WHERE'S MY HEART?????";
    r.style.animation = "none";
    void r.offsetWidth;
    r.style.animation = "shake 0.4s";
    ctx.clearRect(0,0,canvas.width,canvas.height);
    points = [];
}

function badFail(){
    const r = document.getElementById("result");
    r.innerText = "that's a terrible heart, what happened to your art skills?";
    r.style.animation = "none";
    void r.offsetWidth;
    r.style.animation = "shake 0.4s";
    ctx.clearRect(0,0,canvas.width,canvas.height);
    points = [];
}

function success(){
    mainScreen.style.display = "none";
    successScreen.style.display = "block";
}

function checkHeart(){
    if(points.length < 10){
        emptyFail();
        return;
    }

    let minY = 999, maxY = 0, minX = 999, maxX = 0;
    for(const p of points){
        minX = Math.min(minX, p[0]);
        maxX = Math.max(maxX, p[0]);
        minY = Math.min(minY, p[1]);
        maxY = Math.max(maxY, p[1]);
    }

    const ratio = (maxY - minY) / (maxX - minX);
    const lowest = points.reduce((a,b)=> a[1] > b[1] ? a : b);
    const above = points.filter(p => p[1] < lowest[1] - (maxY-minY)*0.3).length;

    if(ratio > 0.8 && ratio < 1.6 && above > 40) success();
    else badFail();
}

verifyBtn.addEventListener("click", checkHeart);

/* subtle falling hearts + roses, with immediate start */
const emojis = ["ðŸ’™","ðŸŒ¹","ðŸ’™","ðŸŒ¹","ðŸ’™"];

function spawnParticle(){
    const el = document.createElement("div");
    el.classList.add("fall","heart");
    el.innerText = emojis[Math.floor(Math.random()*emojis.length)];
    el.style.left = Math.random()*100 + "vw";
    el.style.setProperty('--dur', (18 + Math.random()*12) + "s");
    document.body.appendChild(el);
    setTimeout(()=>el.remove(), 30000);
}

for(let i=0;i<6;i++){
    setTimeout(spawnParticle, i*180);
}

setInterval(spawnParticle, 2200);
</script>

</body>
</html>
